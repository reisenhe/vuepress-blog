---
title: ã€JavaScriptã€‘çŸ¥è¯†å°è®° - ES6 ä¸»è¦ç‰¹æ€§
date: 2020-12-03
categories:
 - frontEnd
author: ReisenD
sidebar: auto
sidebarDepth: 2
tags:
 - javascript
 - é¢è¯•
---

å¹³æ—¶åœ¨ä»£ç ä¸­å¶å°”ç”¨åˆ°ï¼Œä½†æ˜¯ä¸æ˜¯å¾ˆæ˜ç¡®å“ªäº›å±äº ES6 ä¹‹åçš„æ–°ç‰¹æ€§ï¼Œäºæ˜¯è®°å½•ä¸€ä¸‹

## å˜é‡å£°æ˜

### let 
ç”¨æ³•å’Œ var ç›¸åŒï¼Œä½†æ˜¯å¢åŠ äº†ä¸€äº›æ–°ç‰¹æ€§ï¼š  
1. ä¸èƒ½é‡å¤å£°æ˜å˜é‡
```js
let lang = 'javascript'
let lang = 'es6'        // æŠ¥é”™ï¼šé‡å¤å£°æ˜äº† lang å˜é‡
```
2. åœ¨å—çº§ä½œç”¨åŸŸä¸­å£°æ˜åå¤–éƒ¨ä¸å¯è®¿é—®
```js
if (true) {
    let lang = 'javascript'
}
console.log(lang)       // æŠ¥é”™ï¼šlang å¤„äº if å—çº§ä½œç”¨åŸŸä¸­
```

3. ä¸å¯å˜é‡æå‡  
å˜é‡æå‡å³å…ˆå£°æ˜åä½¿ç”¨ï¼Œè¿™åœ¨ä½¿ç”¨ var çš„æ—¶å€™æ˜¯å¯ä»¥åšåˆ°çš„
```js
console.log(lang)
let lang = 'javascript' // æŠ¥é”™ï¼šlang åœ¨å£°æ˜å‰å°±è¿›è¡Œäº†ä½¿ç”¨
```

### const
ç”¨äºè®¾ç½®å¸¸é‡ï¼Œç‰¹æ€§åŒ…å«äº†ä¸Šæ–‡æåˆ°çš„ let ç‰¹æ€§ï¼Œä»¥åŠ:  
1. å£°æ˜çš„å˜é‡ä¸å¯ä¿®æ”¹  
2. å£°æ˜çš„å˜é‡å¿…é¡»å¸¦æœ‰åˆå§‹å€¼  
3. å¦‚æœå˜é‡æ˜¯æ•°ç»„æˆ–å¯¹è±¡(å¼•ç”¨ç±»å‹)ï¼Œä¿®æ”¹å†…éƒ¨å…ƒç´ æ˜¯å¯ä»¥çš„
* ç”±äºæ˜¯å¸¸é‡ï¼Œå»ºè®®ä¸€èˆ¬å°†å˜é‡åè®¾ç½®ä¸ºå¤§å†™è‹±æ–‡

## å˜é‡è§£æ„èµ‹å€¼
å…è®¸æŒ‰ç‰¹å®šæ¨¡å¼ä»æ•°ç»„æˆ–å¯¹è±¡ä¸­æå–å€¼ï¼Œå¯¹å˜é‡è¿›è¡Œèµ‹å€¼
```js
// èµ‹å€¼æ•°ç»„
let [a1, b1, c1] = ['vue', 'react', 'angular']
console.log(a1, b1, c1)         // vue react angular

// èµ‹å€¼å¯¹è±¡
const obj = {
    name: 'Tom',
    age: 12,
    sayName: function () {
        console.log(this.name)
    }
}

let {name, age, sayName} = obj
console.log(name, age, sayName) // Tom 12 Æ’(){console.log(this.name)}
sayName.call(obj)   // Tom
```
:::tips
è§£æ„èµ‹å€¼å¯¹è±¡æ—¶ï¼Œå˜é‡åç§°è¦ä¸å¯¹åº”çš„å¯¹è±¡å±æ€§åç§°ä¸€è‡´
:::

## æ¨¡æ¿å­—ç¬¦ä¸²
ä½¿ç”¨ ` ç¬¦å·å®ç°å­—ç¬¦ä¸²ï¼Œç‰¹æ€§åŒ…æ‹¬ï¼š
1. å¯ä»¥è¯†åˆ«æ¢è¡Œ
2. å¯ä»¥ç»“åˆå˜é‡ä½¿ç”¨
```js
const obj = {
    name: 'Tom'
}
const str = `His name is ${obj.name}`
console.log(str)    // His name is Tom
```


## å¯¹è±¡å±æ€§ç®€åŒ–
å…è®¸ {} æ‹¬å·ä¸­ç›´æ¥å†™å…¥å˜é‡åå’Œå‡½æ•°åä»¥åˆ›å»ºå’Œä¿®æ”¹å±æ€§
```js
const name = 'Tom';
const obj = {
    name,
    sayName() {
        console.log(this.name)
    }
}

```

## ç®­å¤´å‡½æ•°
```js
// åŸºç¡€å†™æ³•
() => {}
// åªæœ‰1ä¸ªå˜é‡ï¼Œçœç•¥æ‹¬å·
res => {console.log(res)}
// çœç•¥ {}, å‡½æ•°å†…å®¹ä¸º return è¿™ä¸€è¡Œçš„ç»“æœ
(a, b) => a + b
```
ä½¿ç”¨ç®­å¤´å‡½æ•°çš„æ³¨æ„äº‹é¡¹
1. ç®­å¤´å‡½æ•°çš„ this å§‹ç»ˆæŒ‡å‘å£°æ˜æ—¶æ‰€åœ¨ä½œç”¨åŸŸ  
2. ä¸èƒ½ä½¿ç”¨ new æ„é€ å®ä¾‹åŒ–å¯¹è±¡  
3. ä¸èƒ½ä½¿ç”¨ arguments å˜é‡


## å‡½æ•°å‚æ•°é»˜è®¤å€¼
ç»™å‡½æ•°å‚æ•°æ·»åŠ é»˜è®¤å€¼æ˜¯ es6 æ‰æœ‰çš„åŠŸèƒ½ ğŸ˜®
```js
// å»ºè®®éœ€è¦èµ‹å€¼çš„å‚æ•°ä»æœ€åä¸€ä½å¼€å§‹æ”¾
function add(a, b, c=10) {
    return a + b + c
}

// å¯¹è±¡ä¼ å‚-å¯ä»¥ä¸ºæ²¡ä¼ å‚æ•°æ—¶èµ‹å€¼
function request({host = 'localhost', data}) {
    console.log(host, data)
}
request({
    host: '127.0.0.1'
    data: {
        username: 'reisen',
        password: '***'
    }
})
```

## rest å‚æ•° (...args)
es6 å¼•å…¥äº† rest å‚æ•°ï¼Œè·å–å‡½æ•°çš„å®å‚ï¼Œæ›¿ä»£ arguments
```js
function data(...args) {
    console.log(args)
}
data('reimu', 'marisa', 'sakuya')      //Â ["reimu", "marisa", "sakuya"]
```
:::tip
**args** ä¸ arguments çš„ä¸åŒåœ¨äºå®ƒæ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ Array.prototype çš„æ–¹æ³•
:::

## æ‰©å±•è¿ç®—ç¬¦ (...)
æ‰©å±•è¿ç®—ç¬¦ç”±ä¸‰ä¸ªç‚¹ç¬¦å·ç»„æˆï¼Œå¯ç”¨äºæ•°ç»„ï¼Œå¯¹è±¡ç­‰ï¼Œå°†å…ƒç´ ä»¥é€—å·åˆ†éš”å±•å¼€
```js
// æ•°ç»„åˆå¹¶
const a1 = ['reimu', 'yukari'];
const a2 = ['youmu', 'yuyuko'];
const aC = [...a1, ...a2];
console.log(aC) // ["reimu", "yukari", "youmu", "yuyuko"]

// å…‹éš†æ•°ç»„ *æµ…æ‹·è´
const aE = [...aC]
console.log(aE) // ["reimu", "yukari", "youmu", "yuyuko"]

// ä¼ªæ•°ç»„è½¬åŒ–ä¸ºçœŸæ•°ç»„ - åŒ…æ‹¬ nodeList, argumentsç­‰
const divs = document.querySelectorAll('div')
const divArr = [...divs]

// å¯¹è±¡åˆå¹¶
const b1 = {name: 'reisen', age: 'unknown'}
const b2 = {skill: 'illusion'}
const bC = {...b1, ...b2}
console.log(bC) // {name: "reisen", age: "unknown", skill: "illusion"}
```